{"id":"bd-lf2p4u-mjaq5emlbuh","title":"swarm_complete tool fails silently with unhelpful error","description":"**Observed:**\n```\nswarm_complete(\n  project_key=\"/Users/joel/Code/joelhooks/opencode-swarm-plugin\",\n  agent_name=\"GoldForest\",\n  bead_id=\"bd-lf2p4u-mjaq2kcw6zz\",\n  summary=\"...\",\n  files_touched=[\".hive/issues.jsonl\"]\n)\n```\nReturns: `Error: Tool execution failed`\n\n**Expected:**\n- Specific error message explaining WHY it failed\n- Possible causes: bead not found, swarm session not initialized, invalid project_key, etc.\n\n**Impact:**\n- Agent has no idea what went wrong\n- Falls back to manual `hive_close` which skips:\n  - Reservation release\n  - Learning signal recording\n  - UBS scan verification\n\n**Root cause hypothesis:**\n- `swarm_complete` may require `swarmmail_init` to have been called in the same session\n- Or the bead lookup failed silently\n- Or project_key format was wrong\n\n**Fix:**\n- Add proper error messages with actionable guidance\n- Validate inputs and return specific errors:\n  - \"Bead not found: bd-xxx\"\n  - \"Swarm session not initialized - call swarmmail_init first\"\n  - \"Project key mismatch: expected X, got Y\"","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-18T00:50:58.509Z","updated_at":"2025-12-18T00:50:58.509Z","dependencies":[],"labels":[],"comments":[]}
{"id":"bd-lf2p4u-mjaq87xfv9p","title":"Full beads→hive migration with JSONL import to PGLite","description":"Complete migration pipeline: 1) Directory rename (.beads→.hive), 2) JSONL merge (beads.base.jsonl→issues.jsonl), 3) Import merged JSONL into PGLite database. All steps exposed via swarm setup.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-18T00:53:09.795Z","updated_at":"2025-12-18T01:45:09.802Z","closed_at":"2025-12-18T01:45:09.802Z","dependencies":[],"labels":[],"comments":[]}
{"id":"bd-lf2p4u-mjaq87xreap","title":"Add mergeHistoricBeads() function to merge JSONL files","description":"TDD: Write failing tests first for mergeHistoricBeads(). Function should merge beads.base.jsonl into issues.jsonl, deduping by ID (issues.jsonl wins on conflict).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T00:53:09.807Z","updated_at":"2025-12-18T01:42:17.900Z","closed_at":"2025-12-18T01:42:17.900Z","parent_id":"bd-lf2p4u-mjaq87xfv9p","dependencies":[],"labels":[],"comments":[]}
{"id":"bd-lf2p4u-mjaq87xwdt8","title":"Add importJsonlToPGLite() function to import JSONL into database","description":"TDD: Write failing tests first for importJsonlToPGLite(). Function should read issues.jsonl and upsert each record into PGLite cells table.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T00:53:09.812Z","updated_at":"2025-12-18T01:42:18.443Z","closed_at":"2025-12-18T01:42:18.443Z","parent_id":"bd-lf2p4u-mjaq87xfv9p","dependencies":[],"labels":[],"comments":[]}
{"id":"bd-lf2p4u-mjaq87xzwzf","title":"Wire migration functions into swarm setup CLI flow","description":"Wire mergeHistoricBeads() and importJsonlToPGLite() into swarm setup migration flow. Should run after directory rename.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T00:53:09.815Z","updated_at":"2025-12-18T01:45:08.996Z","closed_at":"2025-12-18T01:45:08.996Z","parent_id":"bd-lf2p4u-mjaq87xfv9p","dependencies":[],"labels":[],"comments":[]}