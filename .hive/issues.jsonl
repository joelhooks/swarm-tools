{"id":"opencode-swarm-monorepo-lf2p4u-mjehhhfjpp6","title":"Complete PGLite → libSQL Migration","description":"Port remaining hive (275) and streams (213) tests from PGLite shim to libSQL/Drizzle, then remove PGLite dependency entirely","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-20T15:59:30.175Z","updated_at":"2025-12-20T18:10:10.217Z","closed_at":"2025-12-20T18:10:10.217Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjei3zwg0o9","title":"Add $N→? param conversion to libSQL adapter","description":"## Problem\nHive module source files use PostgreSQL `$1, $2` param syntax (65+ occurrences across 8 files). LibSQL/SQLite requires `?` placeholders.\n\n## Files Affected\n- projections.ts (40 occurrences)\n- dependencies.ts (11)\n- store.ts (7)\n- adapter.ts (7)\n- queries.ts, labels.ts, comments.ts, jsonl.ts\n\n## Solution\nExtend the existing `convertPlaceholders()` function in `src/libsql.ts` (already handles this for memory module) to be used by hive module tests.\n\nThe function already exists and handles reused placeholders:\n```typescript\n// PostgreSQL: VALUES ($1, $2, $1) with params [a, b]\n// SQLite:     VALUES (?, ?, ?) with params [a, b, a]\n```\n\n## Approach\n1. Export `convertPlaceholders` from libsql.ts (or create wrapper in test-libsql.ts)\n2. Update hive test setup to wrap db queries through converter\n3. Verify all 275 hive tests pass\n\n## Discovered By\nWorker attempting \"Port hive tests to libSQL\" - found source files use PG syntax that libSQL rejects.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T16:17:00.544Z","updated_at":"2025-12-20T17:56:54.924Z","closed_at":"2025-12-20T17:56:54.924Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjeln08fw07","title":"libSQL Migration Confidence Tests","description":"Pre-release validation for libSQL migration. Integration test for full session flow, daemon mode smoke test, and cleanup of stale tasks.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-20T17:55:46.287Z","updated_at":"2025-12-20T18:09:54.175Z","closed_at":"2025-12-20T18:09:54.175Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjeln08npfn","title":"Close stale param conversion task (mjei3zwg0o9)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:55:46.295Z","updated_at":"2025-12-20T18:02:08.546Z","closed_at":"2025-12-20T18:02:08.546Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjeln08fw07","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjeln08ulrs","title":"Integration test: full hive session flow (create epic → work → complete → sync)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:55:46.302Z","updated_at":"2025-12-20T18:02:10.084Z","closed_at":"2025-12-20T18:02:10.084Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjeln08fw07","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjeln08yoh2","title":"Smoke test: daemon mode with libSQL","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:55:46.306Z","updated_at":"2025-12-20T18:02:11.138Z","closed_at":"2025-12-20T18:02:11.138Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjeln08fw07","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjelvbl6n5k","title":"PostgreSQL ANY() function incompatible with libSQL in store.ts","description":"## Bug\n\nDiscovered during daemon smoke test. The streams/store.ts uses PostgreSQL-specific `ANY($param)` function which doesn't exist in SQLite/libSQL.\n\n## Locations\n- packages/swarm-mail/src/streams/store.ts lines 199, 679, 703, 710\n\n## Impact\n- File reservation operations fail with libSQL adapter\n- Affects swarmmail_reserve functionality\n\n## Fix\nReplace `ANY($param)` with SQLite-compatible `IN (...)` syntax, similar to how convertPlaceholders() handles other PostgreSQL→SQLite conversions.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-20T18:02:14.250Z","updated_at":"2025-12-20T18:09:46.138Z","closed_at":"2025-12-20T18:09:46.138Z","dependencies":[],"labels":[],"comments":[]}
