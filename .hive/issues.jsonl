{"id":"opencode-swarm-monorepo-lf2p4u-mjcaj92ueek","title":"BUG: hive_close should accept short ID suffix (e.g., mjc9mbl4ync)","description":"## Problem\nAgents naturally use the short hash suffix (e.g., `mjc9mbl4ync`) but hive tools require the full ID (`opencode-swarm-monorepo-lf2p4u-mjc9mbl4ync`).\n\n## Evidence\nJust happened - tried to close 4 cells with short IDs, all failed with \"Bead not found\".\n\n## Fix\nIn HiveAdapter, if ID doesn't contain the project prefix, search for cells ending with that suffix. Should be a simple `.endsWith()` check or prefix the project key automatically.\n\n## Affected Tools\n- hive_close\n- hive_update  \n- hive_start\n- Any tool that takes an ID parameter","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T03:09:22.998Z","updated_at":"2025-12-19T04:02:08.603Z","closed_at":"2025-12-19T04:02:08.603Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjcaur8wae6","title":"BUG: pdf-brain PGlite crashes with \"RuntimeError: Aborted()\"","description":"## Symptoms\npdf-brain operations fail with:\n```\nDatabaseError: {\"reason\":\"Failed to init PGlite: RuntimeError: Aborted(). Build with -sASSERTIONS for more info.\",\"_tag\":\"DatabaseError\"}\n```\n\n## Context\n- Happened mid-session after successfully adding 2 PDFs\n- `pdf-brain migrate --check` says \"No migration needed\"\n- `pdf-brain repair` also fails with same error\n- Library directory exists at ~/Documents/.pdf-library/library/\n\n## Likely Cause\nPGlite WASM corruption. May need to:\n1. Backup documents.json\n2. Delete library/ directory\n3. Re-import from backup\n\n## Workaround\nNone currently - pdf-brain is unusable until fixed.\n\n## Papers That Failed to Add\n- https://arxiv.org/pdf/2304.03442.pdf (Generative Agents)\n- https://arxiv.org/pdf/2005.11401.pdf (RAG)\n- https://arxiv.org/pdf/2502.12110.pdf (A-MEM)\n- https://arxiv.org/pdf/2502.14802.pdf (HippoRAG 2)\n- https://arxiv.org/pdf/2501.13956.pdf (Zep)\n- https://arxiv.org/pdf/2504.19413.pdf (Mem0)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-19T03:18:19.760Z","updated_at":"2025-12-19T03:18:19.760Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjcb81nf8rm","title":"PGlite WAL Safety Improvements","description":"Prevent WAL accumulation crashes like pdf-brain experienced (930 WAL files, WASM OOM).\n\nRoot cause: PGlite in embedded mode accumulates WAL files without explicit CHECKPOINT calls. Unclean shutdowns compound the problem.\n\nThree improvements:\n1. Add CHECKPOINT after batch operations (migrations, bulk event appends)\n2. Add WAL size health check to warn before problems occur\n3. Document daemon mode as preferred deployment (single long-lived process)\n\nContext from pdf-brain crash:\n- 930 WAL files accumulated (930MB uncommitted transactions)\n- No checkpointing + unclean shutdowns = WAL growth until OOM\n- Lost 359 documents, had to rebuild from scratch","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-19T03:28:39.771Z","updated_at":"2025-12-19T04:02:06.937Z","closed_at":"2025-12-19T04:02:06.937Z","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjcb81np12c","title":"Add checkpoint() method to DatabaseAdapter and call after batch operations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T03:28:39.781Z","updated_at":"2025-12-19T04:01:57.617Z","closed_at":"2025-12-19T04:01:57.617Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjcb81nf8rm","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjcb81nuru3","title":"Add WAL size health check with configurable warning threshold","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T03:28:39.786Z","updated_at":"2025-12-19T04:01:59.225Z","closed_at":"2025-12-19T04:01:59.225Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjcb81nf8rm","dependencies":[],"labels":[],"comments":[]}
{"id":"opencode-swarm-monorepo-lf2p4u-mjcb81nxeay","title":"Document daemon mode as preferred deployment in README","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T03:28:39.789Z","updated_at":"2025-12-19T04:02:00.572Z","closed_at":"2025-12-19T04:02:00.572Z","parent_id":"opencode-swarm-monorepo-lf2p4u-mjcb81nf8rm","dependencies":[],"labels":[],"comments":[]}